" Settings for C# Tripitaka

" No VI compatibility
set nocp

" No start of line on many commands
set nosol

" Display position at bottom of file.
set ruler

" Don't linewrap
set nowrap

" Display line numbers & set it to 4 columns wide
set number
set numberwidth=4

" Set language syntax to C
colorscheme desert
filetype on
syntax on
set syntax=cs

" Make backspace work correctly
set backspace=indent,eol,start

" Set font to Courier New
if has("gui_running")
    if has("gui_gtk2") || has("gui_gtk3")
        set gfn=Courier\ New\ 10
    elseif has("gui_win32")
        set gfn=Courier_New:h10:cDEFAULT
    endif
endif

" Set file encoding
set bomb
set fileencoding=utf-8

" Display special characters
set list

" Change how to display tab characters
set listchars=tab:>-

" Expand tabs to spaces
set expandtab

" A tab has four spaces
set tabstop=4
set shiftwidth=4
set softtabstop=4

" Change the background on columns greater than 120
set textwidth=120
execute "set colorcolumn=" . join(range(121,335), ',')
highlight ColorColumn guibg=black

" Map Alt-Up to move line up
inoremap <A-Up> <ESC>:m-2<CR>:startinsert<CR>
nnoremap <A-Up> :m-2<CR>==
vnoremap <A-Up> :m '<-2<CR>gv=gv

" Alt-Down to move line down
inoremap <A-Down> <ESC>:m+<CR>:startinsert<CR>
nnoremap <A-Down> :m+<CR>==
vnoremap <A-Down> :m '>+1<CR>gv=gv

" <F5> - Remove trailing whitespace in normal mode
nnoremap <silent> <F5> :let _s=@/ <Bar> :%s/\s\+$//e <Bar> :let @/=_s <Bar> :nohl <Bar> :unlet _s <CR>

" Remove trailing whitespace on specific files when saving
au! BufWritePre *.cs,*.csproj,*.sln %s/\s\+$//e

" Add shift-tab to detab
inoremap <S-Tab> <C-d>
nnoremap <S-Tab> <<
vnoremap <S-Tab> < <CR>gv

vnoremap <Tab> > <CR>gv

" Sort selection via CTRL+S
vnoremap <C-S> :'<,'>sort<CR>gv
